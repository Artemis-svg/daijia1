<!--pages/login/login.wxml-->
<view class="login-container">
  <view class="login-header">
    <image class="logo" src="/images/profile.svg" mode="aspectFit"></image>
    <text class="title">代驾应用</text>
    <text class="subtitle">欢迎回来</text>
  </view>

  <view class="login-form">
    <view class="form-item">
      <view class="label">用户名/邮箱</view>
      <input 
        class="input" 
        type="text" 
        placeholder="请输入用户名或邮箱"
        value="{{username}}"
        bindinput="onUsernameInput"
        maxlength="50"
      />
    </view>

    <view class="form-item">
      <view class="label">密码</view>
      <input 
        class="input" 
        type="password" 
        placeholder="请输入密码"
        value="{{password}}"
        bindinput="onPasswordInput"
        maxlength="20"
      />
    </view>

    <button 
      class="login-btn {{isLoading ? 'loading' : ''}}" 
      bindtap="handleLogin"
      disabled="{{isLoading}}"
    >
      {{isLoading ? '登录中...' : '登录'}}
    </button>

    <view class="login-footer">
      <text class="register-link" bindtap="goToRegister">
        还没有账号？立即注册
      </text>
    </view>
  </view>

  <!-- 加载动画 -->
  <view class="loading-overlay" wx:if="{{isLoading}}">
    <view class="loading-spinner"></view>
  </view>
</view>
